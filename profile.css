/* =========================================
   1. CONTAINER & GLOBAL RESET
   ========================================= */
.up-container {
  /* --- Color Variables --- */
  --primary: #0ea5e9;           /* Sky 500 */
  --primary-hover: #0284c7;     /* Sky 600 */
  --surface: #ffffff;
  --surface-alt: #f8fafc;       /* Slate 50 */
  --text-main: #0f172a;         /* Slate 900 */
  --text-muted: #475569;        /* Slate 600 */
  --border: #e2e8f0;            /* Slate 200 */
  --shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);

  /* --- Full Page Settings --- */
  width: 100%;
  
  /* CRITICAL: Ensures the background covers the entire screen height */
  min-height: 100vh; 
  
  padding: 80px 40px 40px 40px; 
  box-sizing: border-box;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  
  /* Light Blue Gradient Background */
  background: linear-gradient(180deg, #f0f9ff 0%, #e0f2fe 100%);
  background-attachment: fixed; 
  
  color: var(--text-main);
  display: flex;
  flex-direction: column;
}

/* =========================================
   2. HEADER
   ========================================= */
.up-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
}

.up-brand-title {
  font-size: 1.75rem;
  font-weight: 800;
  color: var(--text-main);
  margin: 0;
}

.text-blue { color: var(--primary); }

.up-btn-logout {
  display: flex;
  align-items: center;
  gap: 8px;
  background: white;
  color: #ef4444;
  border: 1px solid #fee2e2;
  padding: 10px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.9rem;
  transition: all 0.2s;
}

.up-btn-logout:hover {
  background: #fef2f2;
  border-color: #fecaca;
  transform: translateY(-1px);
}

/* =========================================
   3. GRID SYSTEM (40-60 Split)
   ========================================= */
.up-grid {
  display: grid;
  width: 100%;
  gap: 24px;
  
  /* Mobile: Stacked (1 column) */
  grid-template-columns: 1fr;
  
  /* Ensures cards stretch to equal height */
  align-items: start; 
  flex: 1; 
}

/* DESKTOP LAYOUT (Min width 1024px) */
@media (min-width: 1024px) {
  .up-grid {
    /* 40% Profile / 60% History */
    grid-template-columns: 4fr 6fr; 
    align-items: stretch;
  }
}

/* =========================================
   4. CARDS
   ========================================= */
.up-card {
  background: var(--surface);
  border-radius: 16px;
  box-shadow: var(--shadow-card);
  padding: 32px;
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  height: 100%;
  box-sizing: border-box;
  position: relative; /* Essential for absolute positioning of edit button */
}

.up-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--border);
}

.up-card-header h2 {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--text-main);
  margin: 0;
}

.up-icon-btn {
  background: transparent;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  transition: all 0.2s;
}
.up-icon-btn:hover {
  background: var(--surface-alt);
  color: var(--primary);
}

/* =========================================
   5. PROFILE & AVATAR
   ========================================= */
.up-info-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 30px;
  text-align: center;
}

/* Wrapper that forces centering of Name/Avatar */
.profile-content-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}

.up-avatar-wrapper {
  position: relative;
  width: 120px;
  height: 120px;
  margin-bottom: 16px;
}

.up-avatar-placeholder {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: linear-gradient(135deg, #e0f2fe, #7dd3fc);
  color: var(--primary);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 4px solid white;
  box-shadow: 0 0 0 1px var(--border);
  overflow: hidden;
}

.up-upload-overlay {
  position: absolute;
  bottom: 0;
  right: 0;
  background: var(--primary);
  color: white;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  cursor: pointer;
  border: 3px solid white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s;
}
.up-upload-overlay:hover { transform: scale(1.1); }
.up-hidden-input { display: none; }

.up-user-name {
  margin: 0 0 6px 0;
  color: var(--text-main);
  font-size: 1.5rem;
  font-weight: 800;
}
.up-user-role {
  color: var(--text-muted);
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* The Edit Button - Fixed to Top Right */
.action-btn-circle {
  position: absolute;
  top: 24px;
  right: 24px;
  width: 38px;
  height: 38px;
  background: white;
  border: 1px solid var(--border);
  border-radius: 50%;
  color: var(--text-muted);
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  transition: all 0.2s;
  z-index: 10;
}
.action-btn-circle:hover {
  border-color: var(--primary);
  color: var(--primary);
  transform: scale(1.05);
}

/* =========================================
   6. INFO LIST & INPUTS
   ========================================= */
.up-info-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.up-info-item {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px;
  background: var(--surface-alt);
  border-radius: 12px;
  border: 1px solid transparent;
}

.up-info-icon {
  color: var(--primary);
  background: white;
  padding: 10px;
  border-radius: 10px;
  display: flex;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.up-badge-verified {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: #dcfce7;
  color: #166534;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 600;
  margin-top: 15px;
  align-self: center;
}

/* --- Forms --- */
.up-edit-form { display: flex; flex-direction: column; gap: 20px; }
.up-form-row { display: flex; gap: 16px; }
.up-input-group { display: flex; flex-direction: column; gap: 8px; flex: 1; }

.up-input-group label {
  font-size: 0.85rem;
  font-weight: 700;
  color: var(--text-main);
  margin-left: 4px;
}

.up-input-group input, 
.up-input-group select {
  width: 100%;
  background-color: #f8fafc;
  border: 1px solid #cbd5e1;
  border-radius: 10px;
  padding: 12px 16px;
  font-size: 0.95rem;
  outline: none;
  box-sizing: border-box;
}

.up-input-group input:focus, 
.up-input-group select:focus {
  background-color: #ffffff;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
}

.up-form-actions { display: flex; gap: 12px; margin-top: 10px; }

.up-btn-save {
  flex: 1;
  background: var(--primary);
  color: white;
  border: none;
  padding: 12px;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-weight: 600;
}

.up-btn-cancel {
  padding: 12px 24px;
  background: white;
  border: 1px solid var(--border);
  border-radius: 10px;
  cursor: pointer;
  color: var(--text-main);
  font-weight: 600;
}
/* =========================================
   9. DARK MODE THEME (Fixed)
   ========================================= */

/* Use a combined selector to ensure this overrides the default .up-container settings */
.up-container.dark-theme {
  /* --- 1. Define Dark Mode Colors --- */
  --primary: #38bdf8;         /* Sky 400 */
  --text-main: #f1f5f9;       /* White text */
  --text-muted: #94a3b8;      /* Slate 400 */
  --border: #334155;          /* Dark Border */
  
  /* NEW VARIABLE NAME to prevent conflicts */
  --surface-dark: #1e293b;    /* Dark Slate Card BG */
  --bg-dark: #0f172a;         /* Main Background */
  
  /* --- 2. Apply Main Background --- */
  background: var(--bg-dark);
}

/* --- 3. Apply Card Background using the new variable --- */
.up-container.dark-theme .up-card {
  background-color: var(--surface-dark) !important;
  border-color: var(--border);
  color: var(--text-main);
}

/* --- 4. Fix Inner Elements --- */
.up-container.dark-theme .up-card-header {
  border-bottom-color: var(--border);
}

.up-container.dark-theme h2,
.up-container.dark-theme h3,
.up-container.dark-theme .up-user-name {
  color: var(--text-main);
}

.up-container.dark-theme p,
.up-container.dark-theme span,
.up-container.dark-theme label {
  color: var(--text-muted);
}

/* --- 5. Fix Buttons & Inputs --- */
.up-container.dark-theme .up-btn-logout,
.up-container.dark-theme .action-btn-circle,
.up-container.dark-theme .up-btn-cancel,
.up-container.dark-theme .up-history-item,
.up-container.dark-theme .up-info-item {
  background-color: var(--surface-dark);
  border-color: var(--border);
  color: var(--text-main);
}

.up-container.dark-theme .up-input-group input,
.up-container.dark-theme .up-input-group select {
  background-color: #334155; /* Darker Input BG */
  border-color: var(--border);
  color: var(--text-main);
}

/* --- 6. Fix Icons & Avatars --- */
.up-container.dark-theme .empty-icon-circle,
.up-container.dark-theme .up-history-icon-box,
.up-container.dark-theme .up-info-icon {
  background-color: rgba(56, 189, 248, 0.1); /* Transparent Blue */
  color: var(--primary);
  box-shadow: none;
}

.up-container.dark-theme .up-avatar-placeholder {
  border-color: var(--surface-dark);
}
/* =========================================
   9. DARK MODE THEME (Parent Class Method)
   ========================================= */

/* 1. Define Variables when .dark-theme is the parent */
.dark-theme {
  --primary: #38bdf8;         /* Sky 400 (Brighter for dark bg) */
  --text-main: #f8fafc;       /* Slate 50 */
  --text-muted: #94a3b8;      /* Slate 400 */
  --border-dark: #334155;     /* Dark Border */
  --surface-dark: #1e293b;    /* Dark Card BG */
  --bg-dark: #0f172a;         /* Main Background */
}

/* 2. Apply Main Background to Container */
.dark-theme .up-container {
  background: var(--bg-dark);
  color: var(--text-main);
}

/* 3. Card Background Override */
.dark-theme .up-card {
  background-color: var(--surface-dark) !important; /* Force Dark BG */
  border-color: var(--border-dark);
  color: var(--text-main);
}

/* 4. Headers & Text */
.dark-theme .up-card-header {
  border-bottom-color: var(--border-dark);
}

.dark-theme h1, 
.dark-theme h2, 
.dark-theme h3, 
.dark-theme .up-user-name {
  color: var(--text-main);
}

.dark-theme p, 
.dark-theme span, 
.dark-theme label {
  color: var(--text-muted);
}

/* 5. Buttons & Interactions */
.dark-theme .up-btn-logout,
.dark-theme .action-btn-circle,
.dark-theme .up-btn-cancel,
.dark-theme .up-history-item,
.dark-theme .up-info-item {
  background-color: var(--surface-dark);
  border-color: var(--border-dark);
  color: var(--text-main);
}

.dark-theme .up-btn-logout:hover,
.dark-theme .action-btn-circle:hover,
.dark-theme .up-btn-cancel:hover,
.dark-theme .up-history-item:hover {
  background-color: #334155; /* Slightly lighter on hover */
  border-color: var(--primary);
}

/* 6. Inputs & Forms */
.dark-theme .up-input-group input, 
.dark-theme .up-input-group select {
  background-color: #334155; 
  border-color: var(--border-dark);
  color: var(--text-main);
}

.dark-theme .up-input-group input:focus, 
.dark-theme .up-input-group select:focus {
  background-color: var(--surface-dark);
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.2);
}

/* 7. Icons & Empty States */
.dark-theme .empty-icon-circle,
.dark-theme .up-history-icon-box,
.dark-theme .up-info-icon {
  background-color: rgba(56, 189, 248, 0.1); /* Low opacity blue */
  color: var(--primary);
  box-shadow: none;
}

/* 8. Avatar & Badges */
.dark-theme .up-avatar-placeholder {
  border-color: var(--surface-dark);
}

.dark-theme .up-badge-verified {
  background-color: rgba(22, 163, 74, 0.2);
  color: #4ade80;
}
/* =========================================
   DARK MODE: MEDICAL HISTORY FIXES
   ========================================= */

/* 1. Force the Main Card Background to be Dark */
.dark-theme .up-card {
  background-color: #1e293b !important; /* Dark Slate Blue */
  border-color: #334155 !important;     /* Dark Border */
  box-shadow: none !important;
}

/* 2. Fix the "Patient Overview" Box (The grey box at the top) */
.dark-theme .up-medical-summary,
.dark-theme .patient-overview {
  background-color: #0f172a !important; /* Very Dark Blue (Contrast) */
  border-color: #334155 !important;
  color: #e2e8f0 !important;
}

/* Fix text inside the summary box */
.dark-theme .up-medical-summary p,
.dark-theme .patient-overview p {
  color: #94a3b8 !important; /* Light Grey text */
}

/* 3. Fix the "Empty State" Area (The Blue Exclamation Circle) */
.dark-theme .empty-state h3,
.dark-theme .no-records-text {
  color: #ffffff !important; /* Bright White Header */
}

.dark-theme .empty-state p {
  color: #94a3b8 !important; /* Grey subtext */
}

.dark-theme .empty-icon-circle {
  background-color: rgba(14, 165, 233, 0.15) !important; /* Transparent Blue */
  box-shadow: none !important;
}

/* 4. Fix the "0 Records" Badge */
.dark-theme .up-card-header span {
  background-color: #1e293b !important; /* Dark Bg */
  border: 1px solid #0ea5e9;            /* Blue Border */
  color: #38bdf8 !important;            /* Bright Blue Text */
}

/* 5. Fix the Header Title */
.dark-theme .up-card-header h2 {
  color: #ffffff !important;
}

/* 6. Fix the Add (+) Button */
.dark-theme .up-card-header button {
  color: #38bdf8 !important; /* Bright Blue Icon */
}
/* =========================================
   DARK MODE OVERRIDES
   ========================================= */

/* 1. Base Dark Theme Colors */
.dark-theme {
  --bg-gradient: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); /* Dark Background */
  --white: #1e293b;            /* Changes Card BG to Dark Slate */
  --text-main: #f8fafc;        /* Changes Text to White */
  --text-sub: #94a3b8;         /* Changes Muted Text to Light Grey */
  --primary: #38bdf8;          /* Bright Blue for Dark Mode */
  --primary-light: rgba(56, 189, 248, 0.15); /* Transparent Blue */
  --border: #334155;           /* Dark Borders */
}

/* 2. Force Card Backgrounds to Dark */
.dark-theme .up-card {
  background-color: var(--white) !important;
  border-color: var(--border) !important;
  box-shadow: none;
}

/* 3. FIX: Patient Overview Box (Overrides inline React styles) */
.dark-theme .up-medical-summary {
  background-color: #0f172a !important; /* Very Dark Blue */
  border-color: #334155 !important;
  color: #e2e8f0 !important;
}

/* 4. FIX: Empty State & Icons */
.dark-theme .empty-icon-circle,
.dark-theme .up-icon-box {
  background-color: rgba(56, 189, 248, 0.1) !important; /* Low opacity blue */
  box-shadow: none !important;
}

/* 5. FIX: Inputs & Form Elements */
.dark-theme .up-input-group input, 
.dark-theme .up-input-group select {
  background-color: #0f172a !important;
  border-color: #334155 !important;
  color: #f8fafc !important;
}

/* 6. FIX: History Items */
.dark-theme .history-item {
  background-color: #0f172a !important;
  border-color: #334155 !important;
}

.dark-theme .history-item:hover {
  border-color: var(--primary) !important;
}

/* 7. FIX: Floating Edit Button & Logout */
.dark-theme .action-btn-circle,
.dark-theme .up-btn-logout {
  background-color: #1e293b !important;
  border-color: #334155 !important;
  color: #f8fafc !important;
}

.dark-theme .action-btn-circle:hover,
.dark-theme .up-btn-logout:hover {
  background-color: #334155 !important;
}

/* 8. Text Color Fixes */
.dark-theme h1, 
.dark-theme h2, 
.dark-theme h3, 
.dark-theme h4, 
.dark-theme .up-user-name {
  color: #f8fafc !important;
}

.dark-theme p, 
.dark-theme span, 
.dark-theme label {
  color: #cbd5e1 !important;
}
/* =========================================
   7. HISTORY SECTION & SCROLLING
   ========================================= */
.up-history-list {
  flex: 1; /* Takes all available remaining height */
  display: flex;
  flex-direction: column;
  overflow-y: auto; /* Enables scroll inside the list only */
  max-height: 400px; /* Prevents card from stretching too long */
  padding-right: 6px; /* Space for scrollbar */
}

/* Scrollbar Styling */
.up-history-list::-webkit-scrollbar { width: 5px; }
.up-history-list::-webkit-scrollbar-track { background: transparent; }
.up-history-list::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }

/* History Items */
.up-history-item {
  display: flex;
  align-items: center;
  padding: 16px;
  border: 1px solid var(--border);
  border-radius: 12px;
  margin-bottom: 12px;
  background: white;
  transition: all 0.2s;
}
.up-history-item:hover {
  border-color: var(--primary);
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.08);
  transform: translateY(-2px);
}

.up-history-icon-box {
  width: 40px; height: 40px;
  background: #f0f9ff;
  color: var(--primary);
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  margin-right: 16px;
  flex-shrink: 0;
}

.up-item-details { flex: 1; }
.up-item-details h4 { margin: 0 0 4px 0; font-size: 1rem; font-weight: 600; color: var(--text-main); }

.up-btn-delete {
  background: transparent; border: none;
  color: #94a3b8; cursor: pointer; padding: 8px;
  transition: 0.2s;
}
.up-btn-delete:hover { color: #ef4444; background: #fef2f2; border-radius: 6px; }

/* =========================================
   8. FIXING THE "EMPTY STATE" (The Blue Circle)
   ========================================= */
.empty-state {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;     /* Centers horizontally */
  justify-content: center; /* Centers vertically */
  text-align: center;
  padding: 40px 20px;
  min-height: 250px;       /* Ensures it doesn't collapse */
}

/* This fixes the "Wide Oval" issue in your screenshot */
.empty-icon-circle {
  width: 80px;        /* Fixed width */
  height: 80px;       /* Fixed height */
  min-width: 80px;    /* Prevents squishing */
  min-height: 80px;   /* Prevents squishing */
  background: #f0f9ff;
  color: var(--primary);
  border-radius: 50%; /* Makes it a perfect circle */
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
  /* Add a subtle ring to make it pop */
  box-shadow: 0 0 0 8px rgba(240, 249, 255, 0.8);
}

.empty-state h3 {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--text-main);
  margin: 0 0 8px 0;
}

.empty-state p {
  color: var(--text-muted);
  font-size: 0.95rem;
  max-width: 280px;
  line-height: 1.5;
  margin: 0;
}